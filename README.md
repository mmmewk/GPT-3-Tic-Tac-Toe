# GPT3 Tic Tac Toe

This is a react component in typescript that displays a game of tic-tac-toe. If any of the squares are clicked it will make a move. If a player wins the game it will display text notifying the user that they won. If the game is drawn it will display text notifying the user that it was a draw. There is a button to reset the game.

The game state is stored in local storage so that the game can be resumed later.

To run the game, open index.html in a browser.

# Explaination

The above paragraph was generated by the GPT3 AI. In addition the App.css and TicTacToe.tsx files in this project were completely written by the GPT3.

# GPT3 Prompt

Here is the prompt that generated the code. All code blocks were completely written by GPT3, the text outside of code blocks was the prompts that I gave it.

This is a react component in typescript that displays a game of tic-tac-toe. If any of the squares are clicked it will make a move. If a player wins the game it will display text notifying the user that they won. If the game is drawn it will display text notifying the user that it was a draw. There is a button to reset the game.

```typescript
import React from 'react';

const TicTacToe : React.FC = () => {
    const [gameState, setGameState] = React.useState({
        board: [
            [null, null, null],
            [null, null, null],
            [null, null, null]
        ],
        player: 'X',
        winner: null
    })

    const makeMove = (row: number, col: number) => {
        const board = gameState.board
        const player = gameState.player
        if (board[row][col] === null) {
            board[row][col] = player
            setGameState({
                board: board,
                player: player === 'X' ? 'O' : 'X',
                winner: checkWinner(board, player)
            })
        }
    }

    const checkWinner = (board: Array<Array<string | null>>, player: string) : string | null => {
        const winningLines = [
            [[0,0],[0,1],[0,2]],
            [[1,0],[1,1],[1,2]],
            [[2,0],[2,1],[2,2]],
            [[0,0],[1,0],[2,0]],
            [[0,1],[1,1],[2,1]],
            [[0,2],[1,2],[2,2]],
            [[0,0],[1,1],[2,2]],
            [[2,0],[1,1],[0,2]],
        ]

        for (let i=0; i < winningLines.length; i++) {
            const [[a1, b1], [a2, b2], [a3, b3]] = winningLines[i]
            if (board[a1][b1] === player && board[a2][b2] === player && board[a3][b3] === player) {
                return player
            }
        }
        return null
    }

    const resetGame = () => {
        setGameState({
            board: [
                [null, null, null],
                [null, null, null],
                [null, null, null]
            ],
            player: 'X',
            winner: null
        })
    }

    const renderSquare = (row: number, col: number) => {
        return (
            <button className="square" onClick={() => makeMove(row, col)}>
                {gameState.board[row][col]}
            </button>
        )
    }

    const renderBoard = () => {
        return (
            <div>
                <div className="board-row">
                    {renderSquare(0, 0)}
                    {renderSquare(0, 1)}
                    {renderSquare(0, 2)}
                </div>
                <div className="board-row">
                    {renderSquare(1, 0)}
                    {renderSquare(1, 1)}
                    {renderSquare(1, 2)}
                </div>
                <div className="board-row">
                    {renderSquare(2, 0)}
                    {renderSquare(2, 1)}
                    {renderSquare(2, 2)}
                </div>
            </div>
        )
    }

    const renderWinner = () => {
        return (
            <div>
                Winner: {gameState.winner}
            </div>
        )
    }

    const renderDraw = () => {
        return (
            <div>
                Draw
            </div>
        )
    }

    return (
        <div className="game">
            <div className="game-board">
                {renderBoard()}
            </div>
            <div className="game-info">
                {gameState.winner && renderWinner()}
                {gameState.winner === null && gameState.board.every(row => row.every(col => col !== null)) && renderDraw()}
                <button onClick={resetGame}>
                    Reset
                </button>
            </div>
        </div>
    );
}

export default TicTacToe;
```

This is a type definition for the above game state:

```typescript
interface GameState {
    board: Array<Array<string | null>>;
    player: string;
    winner: string | null;
}
```

This is a css file for the above game that centers the game on the page and makes the reset button look good:

```css
.game {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.game-board {
  width: 300px;
  height: 300px;
  border: 3px solid black;
}

.board-row {
  width: 100%;
  height: 100px;
  display: flex;
}

.square {
  width: 100px;
  height: 100px;
  border: 1px solid black;
  background-color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 60px;
}

.game-info {
  margin-top: 20px;
}

.game-info > button {
  width: 100px;
  height: 50px;
  border: 2px solid black;
  background-color: lightgray;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
}
```

This is a function that saves the above game state to local storage:

```typescript
function saveGameState(gameState: GameState) {
    localStorage.setItem('gameState', JSON.stringify(gameState))
}
```

This is a function that loads the game state from local storage:

```typescript
function loadGameState() : GameState {
    const gameStateString = localStorage.getItem('gameState')
    if (gameStateString === null) {
        return {
            board: [
                [null, null, null],
                [null, null, null],
                [null, null, null]
            ],
            player: 'X',
            winner: null
        }
    }
    return JSON.parse(gameStateString)
}
```

This is an updated version of the above tic tac toe component that uses the above functions to store game state in local storage and uses the type definition for game state in the useState call:

```typescript
import React from 'react';

const TicTacToe : React.FC = () => {
    const [gameState, setGameState] = React.useState<GameState>(loadGameState())

    const makeMove = (row: number, col: number) => {
        const board = gameState.board
        const player = gameState.player
        if (board[row][col] === null) {
            board[row][col] = player
            const newGameState = {
                board: board,
                player: player === 'X' ? 'O' : 'X',
                winner: checkWinner(board, player)
            }
            setGameState(newGameState)
            saveGameState(newGameState)
        }
    }

    const checkWinner = (board: Array<Array<string | null>>, player: string) : string | null => {
        const winningLines = [
            [[0,0],[0,1],[0,2]],
            [[1,0],[1,1],[1,2]],
            [[2,0],[2,1],[2,2]],
            [[0,0],[1,0],[2,0]],
            [[0,1],[1,1],[2,1]],
            [[0,2],[1,2],[2,2]],
            [[0,0],[1,1],[2,2]],
            [[2,0],[1,1],[0,2]],
        ]

        for (let i=0; i < winningLines.length; i++) {
            const [[a1, b1], [a2, b2], [a3, b3]] = winningLines[i]
            if (board[a1][b1] === player && board[a2][b2] === player && board[a3][b3] === player) {
                return player
            }
        }
        return null
    }

    const resetGame = () => {
        setGameState({
            board: [
                [null, null, null],
                [null, null, null],
                [null, null, null]
            ],
            player: 'X',
            winner: null
        })
        saveGameState({
            board: [
                [null, null, null],
                [null, null, null],
                [null, null, null]
            ],
            player: 'X',
            winner: null
        })
    }

    const renderSquare = (row: number, col: number) => {
        return (
            <button className="square" onClick={() => makeMove(row, col)}>
                {gameState.board[row][col]}
            </button>
        )
    }

    const renderBoard = () => {
        return (
            <div>
                <div className="board-row">
                    {renderSquare(0, 0)}
                    {renderSquare(0, 1)}
                    {renderSquare(0, 2)}
                </div>
                <div className="board-row">
                    {renderSquare(1, 0)}
                    {renderSquare(1, 1)}
                    {renderSquare(1, 2)}
                </div>
                <div className="board-row">
                    {renderSquare(2, 0)}
                    {renderSquare(2, 1)}
                    {renderSquare(2, 2)}
                </div>
            </div>
        )
    }

    const renderWinner = () => {
        return (
            <div>
                Winner: {gameState.winner}
            </div>
        )
    }

    const renderDraw = () => {
        return (
            <div>
                Draw
            </div>
        )
    }

    return (
        <div className="game">
            <div className="game-board">
                {renderBoard()}
            </div>
            <div className="game-info">
                {gameState.winner && renderWinner()}
                {gameState.winner === null && gameState.board.every(row => row.every(col => col !== null)) && renderDraw()}
                <button onClick={resetGame}>
                    Reset
                </button>
            </div>
        </div>
    );
}

export default TicTacToe;
```

This is a description of how to cause a bug in the above game:

```
To cause a bug in the game, you can try to make a move when the game is over. For example, if X has won the game and you try to make a move as O, the game will still register the move for O.
```

rewrite the makeMove function to fix the above bug:

```typescript
const makeMove = (row: number, col: number) => {
    const board = gameState.board
    const player = gameState.player
    if (gameState.winner === null && board[row][col] === null) {
        board[row][col] = player
        const newGameState = {
            board: board,
            player: player === 'X' ? 'O' : 'X',
            winner: checkWinner(board, player)
        }
        setGameState(newGameState)
        saveGameState(newGameState)
    }
}
```

This is a readme for the above project:

```
This is a react component in typescript that displays a game of tic-tac-toe. If any of the squares are clicked it will make a move. If a player wins the game it will display text notifying the user that they won. If the game is drawn it will display text notifying the user that it was a draw. There is a button to reset the game.

The game state is stored in local storage so that the game can be resumed later.

To run the game, open index.html in a browser.
```
